<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Press√£o Burguer - Novo Pedido</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <h1>üçî PRESS√ÉO BURGUER</h1>
        <nav aria-label="Navega√ß√£o Principal">
            <a href="home.html">üè† Home</a>
            <a href="formulario_pedido.html">‚ûï Fazer Pedido</a>
            <a href="login.html">üîê Login</a>
            <a href="cadastro.html">üë§ Cadastro</a>
        </nav>
    </header>

    <main id="main-content" style="padding: 2rem;">
        <div class="formulario-container">
            <div class="text-center mb-5">
                <h2 class="text-gradient mb-2">Fazer Novo Pedido</h2>
                <p style="color: var(--text-medium); font-size: 1.1rem;">Escolha seu lanche e fa√ßa seu pedido</p>
            </div>

            <div class="card fade-in">
                <form action="/pedidos/criar" method="POST" id="pedidoForm">
                    <div class="form-group">
                        <label for="id_cardapio">üçî Selecione o Item</label>
                        <select id="id_cardapio" class="form-control" required>
                            <option value="" selected disabled>-- Escolha um item do card√°pio --</option>
                            <optgroup label="üçî Lanches">
                                <option value="1" data-price="25.00">X-Salada - R$ 25,00</option>
                                <option value="2" data-price="28.00">X-Bacon - R$ 28,00</option>
                                <option value="3" data-price="26.00">X-Egg - R$ 26,00</option>
                                <option value="4" data-price="35.00">X-Tudo - R$ 35,00</option>
                                <option value="5" data-price="32.00">X-Picanha - R$ 32,00</option>
                                <option value="6" data-price="30.00">X-Frango - R$ 30,00</option>
                            </optgroup>
                            <optgroup label="üçü Acompanhamentos">
                                <option value="7" data-price="12.00">Batata Frita (P) - R$ 12,00</option>
                                <option value="8" data-price="18.00">Batata Frita (G) - R$ 18,00</option>
                                <option value="9" data-price="15.00">Onion Rings - R$ 15,00</option>
                                <option value="10" data-price="14.00">Nuggets (6 un) - R$ 14,00</option>
                            </optgroup>
                            <optgroup label="ü•§ Bebidas">
                                <option value="11" data-price="7.00">Refrigerante Lata - R$ 7,00</option>
                                <option value="12" data-price="10.00">Suco Natural - R$ 10,00</option>
                                <option value="13" data-price="8.00">√Ågua - R$ 8,00</option>
                                <option value="14" data-price="12.00">Cerveja (350ml) - R$ 12,00</option>
                            </optgroup>
                        </select>
                    </div>

                    <div id="item-details" style="display: none; margin-bottom: 1.5rem; padding: 1rem; background: var(--background-light); border-radius: var(--radius-lg); border: 1px solid var(--border-light);">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h4 id="item-name" style="margin: 0; color: var(--text-dark);"></h4>
                                <p id="item-description" style="margin: 0; color: var(--text-medium); font-size: 0.9rem;"></p>
                            </div>
                            <div style="text-align: right;">
                                <span id="item-price" style="font-size: 1.25rem; font-weight: 700; color: var(--primary-red);"></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="id_observacao">üìù Observa√ß√µes (m√°x. 100 caracteres)</label>
                        <textarea 
                            id="id_observacao" 
                            class="form-control" 
                            rows="3" 
                            maxlength="100" 
                            placeholder="Ex: Sem cebola, com maionese extra, bem passado..."
                        ></textarea>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem;">
                            <small id="charCount" style="color: var(--text-light);">0/100</small>
                            <small style="color: var(--text-light);">üí° Dica: Seja espec√≠fico nas suas prefer√™ncias</small>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                        <div class="card" style="padding: 1rem; text-align: center; background: linear-gradient(135deg, #F7FAFC, #EDF2F7);">
                            <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">‚è±Ô∏è</div>
                            <h4 style="color: var(--primary-red); margin-bottom: 0.5rem;">15-20 min</h4>
                            <p style="font-size: 0.9rem; color: var(--text-medium); margin: 0;">Tempo estimado</p>
                        </div>
                        <div class="card" style="padding: 1rem; text-align: center; background: linear-gradient(135deg, #F7FAFC, #EDF2F7);">
                            <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üöö</div>
                            <h4 style="color: var(--primary-red); margin-bottom: 0.5rem;">Delivery</h4>
                            <p style="font-size: 0.9rem; color: var(--text-medium); margin: 0;">Entrega dispon√≠vel</p>
                        </div>
                        <div class="card" style="padding: 1rem; text-align: center; background: linear-gradient(135deg, #F7FAFC, #EDF2F7);">
                            <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">üí≥</div>
                            <h4 style="color: var(--primary-red); margin-bottom: 0.5rem;">PIX/Cart√£o</h4>
                            <p style="font-size: 0.9rem; color: var(--text-medium); margin: 0;">Pagamento f√°cil</p>
                        </div>
                    </div>

                    <div style="background: linear-gradient(135deg, var(--primary-red), var(--accent-orange)); padding: 1.5rem; border-radius: var(--radius-lg); margin-bottom: 2rem; color: white;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <h3 style="margin: 0; color: white;">Total do Pedido</h3>
                                <p style="margin: 0; opacity: 0.9;">Selecione um item para ver o valor</p>
                            </div>
                            <div style="text-align: right;">
                                <span id="total-price" style="font-size: 2rem; font-weight: 800; color: white;">R$ 0,00</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary" style="width: 100%; font-size: 1.1rem; padding: 1.25rem;">
                        üöÄ FINALIZAR PEDIDO
                    </button>
                </form>
            </div>

            <div style="margin-top: 3rem;">
                <h3 class="text-center mb-4" style="color: var(--text-dark);">Por que escolher o Press√£o Burguer?</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                    <div class="card text-center hover-lift" style="padding: 2rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">ü•©</div>
                        <h4 style="color: var(--primary-red); margin-bottom: 1rem;">Ingredientes Frescos</h4>
                        <p style="color: var(--text-medium); margin: 0;">Usamos apenas ingredientes frescos e de qualidade premium</p>
                    </div>
                    <div class="card text-center hover-lift" style="padding: 2rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö°</div>
                        <h4 style="color: var(--primary-red); margin-bottom: 1rem;">Preparo R√°pido</h4>
                        <p style="color: var(--text-medium); margin: 0;">Seu lanche pronto em at√© 20 minutos</p>
                    </div>
                    <div class="card text-center hover-lift" style="padding: 2rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üèÜ</div>
                        <h4 style="color: var(--primary-red); margin-bottom: 1rem;">Qualidade Garantida</h4>
                        <p style="color: var(--text-medium); margin: 0;">Satisfa√ß√£o garantida ou seu dinheiro de volta</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Press√£o Burguer. Todos os direitos reservados.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('pedidoForm');
            const cardapioSelect = document.getElementById('id_cardapio');
            const observacaoTextarea = document.getElementById('id_observacao');
            const charCount = document.getElementById('charCount');
            const itemDetails = document.getElementById('item-details');
            const itemName = document.getElementById('item-name');
            const itemDescription = document.getElementById('item-description');
            const itemPrice = document.getElementById('item-price');
            const totalPrice = document.getElementById('total-price');

            const cardapioData = {
                '1': { name: 'X-Salada', description: 'Hamb√∫rguer, alface, tomate, cebola, maionese', price: 25.00 },
                '2': { name: 'X-Bacon', description: 'Hamb√∫rguer, bacon, alface, tomate, maionese', price: 28.00 },
                '3': { name: 'X-Egg', description: 'Hamb√∫rguer, ovo, alface, tomate, maionese', price: 26.00 },
                '4': { name: 'X-Tudo', description: 'Hamb√∫rguer, bacon, ovo, alface, tomate, cebola, maionese', price: 35.00 },
                '5': { name: 'X-Picanha', description: 'Hamb√∫rguer de picanha, alface, tomate, cebola, maionese', price: 32.00 },
                '6': { name: 'X-Frango', description: 'Hamb√∫rguer de frango, alface, tomate, cebola, maionese', price: 30.00 },
                '7': { name: 'Batata Frita (P)', description: 'Por√ß√£o pequena de batata frita crocante', price: 12.00 },
                '8': { name: 'Batata Frita (G)', description: 'Por√ß√£o grande de batata frita crocante', price: 18.00 },
                '9': { name: 'Onion Rings', description: 'An√©is de cebola empanados e fritos', price: 15.00 },
                '10': { name: 'Nuggets (6 un)', description: '6 unidades de nuggets de frango', price: 14.00 },
                '11': { name: 'Refrigerante Lata', description: 'Refrigerante 350ml (v√°rios sabores)', price: 7.00 },
                '12': { name: 'Suco Natural', description: 'Suco natural de frutas da esta√ß√£o', price: 10.00 },
                '13': { name: '√Ågua', description: '√Ågua mineral 500ml', price: 8.00 },
                '14': { name: 'Cerveja (350ml)', description: 'Cerveja gelada 350ml', price: 12.00 }
            };

            cardapioSelect.addEventListener('change', function() {
                const selectedValue = this.value;
                
                if (selectedValue && cardapioData[selectedValue]) {
                    const item = cardapioData[selectedValue];
                    itemName.textContent = item.name;
                    itemDescription.textContent = item.description;
                    itemPrice.textContent = `R$ ${item.price.toFixed(2).replace('.', ',')}`;
                    totalPrice.textContent = `R$ ${item.price.toFixed(2).replace('.', ',')}`;
                    itemDetails.style.display = 'block';
                } else {
                    itemDetails.style.display = 'none';
                    totalPrice.textContent = 'R$ 0,00';
                }
            });

            observacaoTextarea.addEventListener('input', function() {
                const currentLength = this.value.length;
                charCount.textContent = `${currentLength}/100`;

                if (currentLength > 80) {
                    charCount.style.color = 'var(--status-pending)';
                } else if (currentLength > 50) {
                    charCount.style.color = 'var(--status-preparing)';
                } else {
                    charCount.style.color = 'var(--text-light)';
                }
            });

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const cardapio = cardapioSelect.value;
                const observacao = observacaoTextarea.value.trim();

                if (!cardapio) {
                    alert('Por favor, selecione um item do card√°pio.');
                    cardapioSelect.focus();
                    return;
                }

                const item = cardapioData[cardapio];
                const confirmMessage = `Confirmar pedido?\n\n${item.name}\n${item.description}\nPre√ßo: R$ ${item.price.toFixed(2).replace('.', ',')}\n\nObserva√ß√µes: ${observacao || 'Nenhuma'}`;

                if (confirm(confirmMessage)) {
                    form.classList.add('loading');
                    
                    setTimeout(() => {
                        alert('Pedido realizado com sucesso! Voc√™ ser√° redirecionado para acompanhar o status.');
                        window.location.href = 'home.html';
                    }, 2000);
                }
            });

            const cards = document.querySelectorAll('.fade-in, .hover-lift');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
    </script>
</body>
</html>